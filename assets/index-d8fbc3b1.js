import{w as H}from"./index-87e89acc.js";import{O as h}from"./index-7d65a80d.js";import{u as k}from"./index-766070b6.js";import{p as w}from"./filters-0f84aeb8.js";function I(n,r={}){const{eventFilter:i}=r,[a]=h(n),{eventFilter:u,pause:l,resume:m,isActive:f}=w(i),{ignoreUpdates:c,stop:p}=H(a,t,{eventFilter:u,defer:!0});function v(e,o){c(()=>{e(o)})}const s=k(n,{...r,clone:r.clone,setSource:v}),{clear:d,commit:g}=s;function t(){g()}function F(e){m(),e&&t()}function T(e){let o=!1;const y=()=>o=!0;c(()=>{e(y)}),o||t()}function b(){p(),d()}return{...s,isTracking:f,pause:l,resume:F,commit:t,batch:T,dispose:b}}export{I as u};
